<app-loading *ngIf="loading"></app-loading>

<app-exception *ngIf="error" [message]="errorMessage"></app-exception>


<div *ngIf="!loading && !error" class="row m-5 animated fadeIn">
  <div class="col-2">
    <img [src]="artista.images | noimage" class="img-thumbnail img-circle" alt="">
  </div>
  <div class="col">
    <h3>{{artista.name}}</h3>
    <p>
      <a href="{{artista.external_urls.spotify}}" target="_blank">Ir a la página del artista</a>
    </p>
  </div>
  <div class="col-4 text-right">
    <button class="btn btn-outline-danger" [routerLink]="['/search']">Regresar</button>
  </div>


  <div class="row">
    <div class="col">
      <table class="table">
        <thead>
          <tr>
            <th>Foto</th>
            <th>Album</th>
            <th>Canción</th>
            <th>Vista Previa</th>
          </tr>
        </thead>

        <tbody *ngFor="let track of topTracks" >
          <tr>
            <td>
              <img class="img-thumb" [src]="track.album.images | noimage" alt="">
            </td>
            <td>
              {{track.album.name}}
            </td>
            <td>
              {{track.name}}
            </td>
            <td>
              <iframe style="border-radius:12px"
              [src]= "track.uri | domseguro : 'https://open.spotify.com/embed?uri='"
              width="100%" height="152" frameBorder="0" allowfullscreen=""
              allow="autoplay; clipboard-write; encrypted-media; picture-in-picture"
              ></iframe>
            </td>
          </tr>
        </tbody>

      </table>
    </div>
  </div>





</div>

